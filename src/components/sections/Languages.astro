---
import { Card, CardContent } from "@/components/ui/card";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const languages = [
  { name: "C", icon: "/assets/c.png", color: "bg-purple-800" },
  { name: "C++", icon: "/assets/cplus.png", color: "bg-purple-800" },
  { name: "Java", icon: "/assets/java.png", color: "bg-purple-800" },
  { name: "Python", icon: "/assets/python.png", color: "bg-purple-800" },
  {
    name: "JavaScript",
    icon: "/assets/javascript.png",
    color: "bg-purple-800",
  },
  { name: "Go", icon: "/assets/golang.png", color: "bg-purple-800" },
  { name: "C#", icon: "/assets/csharp.png", color: "bg-purple-800" },
];
---

<section id="languages" class="px-4 pt-40 pb-40 relative">
  <div class="container mx-auto max-w-6xl">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">
        {t("languages.title")}
      </h2>
      <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
        {t("languages.subtitle")}
      </p>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-6">
      {
        languages.map((lang, index) => (
          <Card
            key={index}
            className="bg-card border backdrop-blur-sm hover:bg-white/[0.04] transition-all duration-300 group cursor-pointer hover:shadow-2xl hover:shadow-purple-500/20"
          >
            <CardContent className="p-6 text-center">
              <div
                class={`w-12 h-12 ${lang.color} rounded-lg flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform text-xl shadow-2xl shadow-purple-500`}
              >
                <img
                  src={lang.icon}
                  alt={`${lang.name} icon`}
                  class="w-8 h-8"
                />
              </div>

              <h3 class="font-semibold">{lang.name}</h3>
            </CardContent>
          </Card>
        ))
      }
    </div>
  </div>
</section>
